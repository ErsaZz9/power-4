<!DOCTYPE html> <!-- Indique que câ€™est un document HTML5 -->
<head>
  <meta charset="utf-8"> <!-- Permet dâ€™utiliser les caractÃ¨res spÃ©ciaux (accents, emoji...) -->
  <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Rend la page responsive (adaptÃ©e Ã  mobile et PC) -->
  <title>Power4 â€” Halloween Edition</title> <!-- Titre de lâ€™onglet de la page -->

  <!-- Lien vers le fichier CSS dans le dossier static/css -->
  <link rel="stylesheet" href="/static/css/style.css">
</head>

<body> <!-- DÃ©but du corps de la page -->
  <div class="container"> <!-- Conteneur principal qui regroupe tout le contenu de la page -->

    <header> <!-- En-tÃªte du jeu -->
      <header>
  <!-- VidÃ©o Halloween -->
  <div class="header-video">
    <video autoplay loop muted>
      <source src="/static/videos/halloween.mp4" type="video/mp4">
      Votre navigateur ne supporte pas les vidÃ©os.
    </video>
  </div>

  <!-- Titre du jeu -->
  <h1>Power4 â€” Halloween Edition</h1>

  <!-- Sous-titre avec le joueur actuel -->
  <p class="subtitle">
    Tour du joueur : {{.Turn}}
    {{if .Over}} â€¢ Partie terminÃ©e (Gagnant: {{.Winner}}) {{end}}
  </p>
</header>
<h1>Power4 â€” Halloween Edition</h1> <!-- Titre principal affichÃ© en haut de la page -->
      
      <!-- Sous-titre qui indique le joueur actuel -->
      <p class="subtitle">
        Tour du joueur : {{.Turn}} <!-- Le backend (Go) injecte le joueur actuel ici -->
        {{if .Over}} â€¢ Partie terminÃ©e (Gagnant: {{.Winner}}) {{end}} <!-- Si la partie est terminÃ©e, affiche le gagnant -->
      </p>

      <!-- Message du â€œrobotâ€ (texte gÃ©nÃ©rÃ© alÃ©atoirement cÃ´tÃ© Go) -->
      <div class="robot-msg">{{.RobotMsg}}</div>
    </header>

    <!-- Plateau de jeu sous forme de tableau HTML -->
    <table class="board"> <!-- Contient la grille du Puissance 4 -->
      {{range $rIndex, $row := .Board}} <!-- Boucle Go : parcourt chaque ligne de la grille -->
      <tr> <!-- Nouvelle ligne du tableau -->
        {{range $cIndex, $cell := $row}} <!-- Boucle Go : parcourt chaque cellule de la ligne -->
        <td class="cell"> <!-- Une cellule du plateau -->
          {{if eq $cell 1}}
            <!-- Si la cellule vaut 1 â†’ joueur 1 (orange) -->
            <div class="token token-orange">ðŸŽƒ</div> <!-- Jeton orange en forme de citrouille -->
          {{else if eq $cell 2}}
            <!-- Si la cellule vaut 2 â†’ joueur 2 (violet) -->
            <div class="token token-violet">ðŸ‘»</div> <!-- Jeton violet en forme de fantÃ´me -->
          {{else}}
            <!-- Sinon cellule vide -->
            <div class="token empty">&nbsp;</div> <!-- Case vide (affiche juste un fond) -->
          {{end}}
        </td>
        {{end}} <!-- Fin de la boucle colonnes -->
      </tr> <!-- Fin de la ligne -->
      {{end}} <!-- Fin de la boucle lignes -->
    </table>

    <!-- Zone des boutons pour jouer -->
    <div class="controls"> <!-- Conteneur des boutons -->
      <!-- Formulaire pour envoyer la colonne jouÃ©e -->
      <form action="/play" method="post"> <!-- Quand on clique sur un bouton, envoie une requÃªte POST Ã  /play -->
        <!-- Chaque bouton correspond Ã  une colonne du plateau -->
        <button name="col" value="0">0</button> <!-- Joue dans la colonne 0 -->
        <button name="col" value="1">1</button> <!-- Joue dans la colonne 1 -->
        <button name="col" value="2">2</button> <!-- Joue dans la colonne 2 -->
        <button name="col" value="3">3</button> <!-- Joue dans la colonne 3 -->
        <button name="col" value="4">4</button> <!-- Joue dans la colonne 4 -->
        <button name="col" value="5">5</button> <!-- Joue dans la colonne 5 -->
        <button name="col" value="6">6</button> <!-- Joue dans la colonne 6 -->
      </form>

      <!-- Formulaire pour recommencer une partie -->
      <form action="/reset" method="post"> <!-- Quand on clique dessus, redÃ©marre une nouvelle partie -->
        <button type="submit" class="reset-btn">Nouvelle partie</button> <!-- Bouton rouge â€œNouvelle partieâ€ -->
      </form>
    </div>

    <!-- Musique dâ€™ambiance Halloween -->
    <audio id="bg-audio" src="/static/sounds/halloween.mp3" autoplay loop></audio>
    <!-- â€œautoplayâ€ : la musique dÃ©marre automatiquement -->
    <!-- â€œloopâ€ : la musique recommence quand elle se termine -->
  </div>

  <!-- Script JS pour gÃ©rer les effets visuels et les sons -->
  <script src="/static/js/app.js"></script>
</body>
</html> <!-- Fin du document HTML -->
